{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://core.local/schemas/intent_crate_schema.json",
  "title": "Intent Crate Manifest",
  "description": "The constitutional schema for a manifest.yaml file within an Intent Crate. This defines a formal, auditable request for change.",
  "type": "object",
  "required": ["crate_id", "author", "intent", "type"],
  "properties": {
    "crate_id": {
      "type": "string",
      "description": "A unique identifier for this crate, typically matching the directory name.",
      "pattern": "^[a-zA-Z0-9_-]+$"
    },
    "author": {
      "type": "string",
      "description": "The identity of the human or system that created the crate (e.g., an email address)."
    },
    "intent": {
      "type": "string",
      "description": "A clear, one-sentence justification for the proposed change.",
      "minLength": 20
    },
    "type": {
      "type": "string",
      "description": "The type of change being proposed.",
      "enum": ["CONSTITUTIONAL_AMENDMENT", "CODE_MODIFICATION"]
    },
    "payload_files": {
        "type": "array",
        "description": "A list of the files included in this crate that are part of the change.",
        "items": {
            "type": "string"
        }
    }
  },
  "additionalProperties": false
}
