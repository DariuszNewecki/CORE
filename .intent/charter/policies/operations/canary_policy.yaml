id: canary_policy
version: "1.0.0"
title: "Canary Policy"
status: active

owners:
  - "Governance Lead"

review:
  frequency: "annual"

canary:
  enabled: true
  scope:
    paths:
      - "src/**"
      - "cli/**"
      - "agents/**"
    modes:
      - "development"
      - "staging"
  abort_conditions:
    - "audit:level=error"
    - "tests:failed>0"
    - "latency:p95>threshold"
  metrics:
    - name: "audit.errors"
      threshold: 0
      direction: "less"
    - name: "tests.failed"
      threshold: 0
      direction: "less"
    - name: "latency.p95.ms"
      threshold: 500
      direction: "less"
