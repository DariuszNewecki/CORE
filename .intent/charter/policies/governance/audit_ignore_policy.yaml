policy_id: 232934da-44d6-4ddc-9404-162382caddb7
id: audit_ignore_policy
version: "1.0.2" # Version bump for more ignore rules
title: "Audit Ignore Policy"
status: active
purpose: >
  To allow narrow, explicit exceptions for files or symbols to reduce audit noise
  without weakening the Constitution. Every ignore must have a reason and an expiry date.
scope:
  applies_to: [governance, ci]
owners:
  accountable: "Core Maintainer"
review:
  frequency: "semiannual"

rules:
  - id: ignore.must_expire
    statement: Every ignore MUST include an 'expires' date to force review.
    enforcement: warn
  - id: ignore.must_have_reason
    statement: Every ignore MUST include a reason.
    enforcement: error

ignores:
  - path: "src/**/generated/**"
    reason: "Generated code; excluded from style/health checks."
    expires: "2026-01-01"
  - path: "vendor/**"
    reason: "Third-party code; owned externally."
    expires: "2026-01-01"
  - check_id: "knowledge.source.direct_access"
    path: "src/features/governance/checks/knowledge_source_check.py"
    reason: "This check must contain the string 'knowledge_graph.json' to perform its function. It is an intentional and safe usage."
    expires: "2026-01-01"
  
symbol_ignores:
  - key: "src/core/intent_guard.py::_get_rules_by_severity"
    reason: "Internal helper method, not a public capability."
    expires: "2026-01-01"
  - key: "src/features/governance/checks/health_checks.py::HealthChecks"
    reason: "Temporarily ignoring self-duplication warnings after major refactor."
    expires: "2025-12-01"
  - key: "src/features/governance/checks/style_checks.py::StyleChecks"
    reason: "Temporarily ignoring self-duplication warnings after major refactor."
    expires: "2025-12-01"
  - key: "src/features/governance/checks/security_checks.py::SecurityChecks"
    reason: "Temporarily ignoring self-duplication warnings after major refactor."
    expires: "2025-12-01"
  - key: "src/features/governance/checks/file_checks.py::FileChecks"
    reason: "Temporarily ignoring self-duplication warnings after major refactor."
    expires: "2025-12-01"
  - key: "src/features/governance/checks/manifest_lint.py::ManifestLintCheck"
    reason: "Temporarily ignoring self-duplication warnings after major refactor."
    expires: "2025-12-01"
  - key: "src/features/governance/checks/capability_coverage.py::CapabilityCoverageCheck"
    reason: "Temporarily ignoring self-duplication warnings after major refactor."
    expires: "2025-12-01"

  # --- Boilerplate CLI registration functions from `cli/commands` ---
  - key: "src/cli/commands/check.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/commands/fix.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/commands/inspect.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/commands/manage.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/commands/run.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/commands/search.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/commands/submit.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"

  # --- START OF NEW IGNORE RULES (from `cli/logic`) ---
  - key: "src/cli/logic/agent.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/audit_capability_domains.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/build.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/byor.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/capability.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/chat.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/db.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/embeddings_cli.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/fixer.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/guard.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/hub.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/knowledge_sync.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/new.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/reviewer.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/run.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/tools.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/cli/logic/validate.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/features/project_lifecycle/bootstrap_service.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  - key: "src/features/governance/key_management_service.py::register"
    reason: "Boilerplate CLI registration function."
    expires: "2026-01-01"
  # --- END OF NEW IGNORE RULES ---