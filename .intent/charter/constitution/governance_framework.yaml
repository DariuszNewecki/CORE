# .intent/charter/constitution/governance_framework.yaml
id: governance_framework
version: "2.1.0"
title: "Constitutional Governance Framework"

# === AMENDMENT PROCESS ===
amendment_process:
  core_principles:
    - "Safety First: Prevent accidental/unauthorized changes"
    - "Clarity and Intent: Every change must have clear justification"
    - "Auditability: Every step must be traceable"

  standard_process:
    - step: "Proposal Creation"
      requirements:
        - "Formal proposal file (cr-*.yaml) following proposal_schema"
        - "target_path must be canonical Charter path"
        - "clear justification linking to core principles"

    - step: "Signature and Quorum"
      requirements:
        - "Signed by authorized approvers from approvers list"
        - "Meet quorum requirements for current operational mode"
        - "Critical paths require critical quorum"

    - step: "Validation and Ratification"
      requirements:
        - "Pass full constitutional audit (core-admin check ci audit)"
        - "Subject to canary deployment if required"
        - "Merge after checks pass and quorum met"

  emergency_procedures:
    - "Detailed in operator_lifecycle procedures"
    - "Always require critical quorum"
    - "Considered critical amendments"

# === SPECIAL FILE PROTECTION ===
# These rules override standard quorum settings.
special_file_rules:
  approvers_registry:
    path: ".intent/charter/constitution/approvers.yaml"
    rules:
      - "ANY modification requires CRITICAL quorum in ALL environments"
      - "Adding approver: Requires critical quorum + 24h waiting period"
      - "Removing approver: Requires UNANIMOUS quorum of remaining active approvers"
      - "Changing quorum thresholds: Requires UNANIMOUS quorum"

  critical_paths_registry:
    path: ".intent/charter/constitution/critical_paths.yaml"
    rules:
      - "ANY modification requires CRITICAL quorum"
      - "Removal of paths requires UNANIMOUS quorum"
      - "Adding paths requires standard quorum"

# === APPROVERS & QUORUM ===
approvers:
  source: "charter/constitution/approvers.yaml"

quorum:
  source: "charter/constitution/approvers.yaml"

# === CRITICAL PATHS ===
critical_paths:
  source: "charter/constitution/critical_paths.yaml"

# === OPERATOR LIFECYCLE ===
operator_lifecycle:
  onboarding:
    - "Key Generation: Generate secure Ed25519 key pair"
    - "Proposal Creation: Active approver creates formal amendment"
    - "Ratification: Meet quorum, canary validation, then active"

  standard_revocation:
    - "Proposal to remove operator block from approvers list"
    - "Clear non-emergency justification required"

  emergency_revocation:
    - "Immediate proposal creation for suspected key compromise"
    - "Requires critical quorum"
    - "Identity invalidated for quorum calculations until resolved"
