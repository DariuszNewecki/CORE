# .intent/mind/knowledge/source_structure.yaml
# CONSTITUTIONAL BLUEPRINT for the Layered, DB-Driven Architecture (V4 FINAL)

structure:
  - domain: api
    path: src/api
    description: "FastAPI routers ONLY. The HTTP Entrypoint."
    allowed_imports: [api, core, features, services, shared]

  - domain: cli
    path: src/cli
    description: "Typer commands ONLY. The CLI Entrypoint."
    allowed_imports: [cli, core, features, services, shared]

  - domain: core
    path: src/core
    description: "Orchestration Layer. Connects entrypoints to features and contains agents."
    allowed_imports: [core, features, services, shared]

  - domain: features
    path: src/features
    description: "Self-contained business capabilities, mapped to the DB capabilities table."
    allowed_imports: [features, services, shared, core]

  - domain: services
    path: src/services
    description: "Cross-cutting infrastructure services (DB access, external clients)."
    allowed_imports: [services, shared]

  - domain: shared
    path: src/shared
    description: "Project-agnostic utilities and core data models."
    allowed_imports: [shared]

  # The system/governance directory is intentionally omitted from runtime contracts,
  # making it a constitutionally protected, governance-only domain.
