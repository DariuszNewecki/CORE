# pytest.ini
# Tool-owned configuration (pytest)

[pytest]
testpaths = tests
pythonpath = src
asyncio_mode = auto

# pytest-dotenv
env_files = .env.test
env_override_existing_values = true

# logging
log_cli = true
log_cli_level = INFO

# options
addopts =
    -v
    --strict-markers
    --strict-config
    --cov=src
    --cov-report=html:reports/htmlcov
    --cov-report=term-missing:skip-covered
    --html=reports/pytest-report.html
    --self-contained-html
    -m "not trio"

markers =
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (database, external services)
    e2e: End-to-end tests (full system)
    slow: Slow running tests
    trio: marks tests to run with trio backend (skipped by default)
