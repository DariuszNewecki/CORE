{
  "id": "constitutional_structure_standard",
  "version": "2.1.0",
  "title": "Constitutional Document Structure Standard",
  "type": "constitutional_standard",
  "owners": {
    "accountable": "Governance Lead",
    "responsible": [
      "Core Maintainer"
    ]
  },
  "review": {
    "frequency": "12 months"
  },
  "schema_id": "standard.constitution.structure",
  "purpose": "Establishes the canonical structure for constitutional documents that define the foundational governance framework: authority (who decides what), boundaries (what's immutable), and risk (what requires oversight). Constitutional documents establish the META-GOVERNANCE layer - they govern how governance itself works.",
  "scope": {
    "applies_to": [
      ".intent/charter/constitution/*.json",
      "Documents with type starting with 'constitutional_'"
    ],
    "specific_domains": {
      "authority": {
        "file": "authority.json",
        "purpose": "Defines who may decide what, and under which conditions",
        "principles": [
          "constitutional_modifications",
          "critical_path_modifications",
          "high_risk_operations",
          "autonomous_code_quality"
        ]
      },
      "boundaries": {
        "file": "boundaries.json",
        "purpose": "Defines immutable system boundaries and separation of concerns",
        "principles": [
          "database_ssot",
          "mind_body_will_separation",
          "constitutional_supremacy",
          "transparency_and_auditability",
          "no_autonomous_constitutional_amendment"
        ]
      },
      "risk": {
        "file": "risk_classification.json",
        "purpose": "Defines risk tiers and gating mechanisms",
        "principles": [
          "routine_operations",
          "standard_operations",
          "elevated_operations",
          "critical_operations",
          "risk_calculation_precedence",
          "path_based_classification",
          "action_based_classification"
        ]
      },
      "precedence": {
        "file": "precedence_rules.json",
        "purpose": "Defines precedence order for resolving principle conflicts",
        "note": "Now properly formatted as constitutional document with type: constitutional_precedence"
      }
    }
  },
  "canonical_structure": {
    "description": "Constitutional documents follow a principles-based structure.",
    "required_sections": {
      "header": {
        "description": "Standard document header",
        "required_fields": [
          "id",
          "version",
          "title",
          "type",
          "owners",
          "review",
          "schema_id",
          "domain"
        ],
        "notes": [
          "type MUST start with 'constitutional_' (e.g. constitutional_authority)",
          "schema_id MUST be 'constitution.<domain>' (e.g. constitution.authority)",
          "NO status field - presence in .intent/ implies active"
        ]
      },
      "domain": {
        "type": "string",
        "description": "Constitutional domain this document governs",
        "required": true,
        "allowed_values": [
          "authority",
          "boundaries",
          "risk",
          "precedence"
        ],
        "notes": [
          "Each domain addresses a different aspect of system governance"
        ]
      },
      "principles": {
        "type": "object",
        "description": "Named principles that constitute this domain's governance",
        "required": true,
        "structure": "Dict of principle_id -> principle definition",
        "principle_schema": {
          "required_fields": [
            "statement",
            "rationale",
            "scope",
            "enforcement"
          ],
          "fields": {
            "statement": {
              "type": "string",
              "max_length": 200,
              "description": "Clear, imperative declaration of the principle"
            },
            "rationale": {
              "type": "string",
              "max_length": 500,
              "description": "Why this principle exists and what it protects"
            },
            "scope": {
              "type": "array",
              "items": "string",
              "min_items": 1,
              "description": "Where/when this principle applies"
            },
            "enforcement": {
              "type": "object",
              "required_fields": [
                "method",
                "parameters"
              ],
              "description": "How to validate compliance with this principle",
              "method": {
                "type": "string",
                "description": "Validation mechanism to use",
                "allowed_values": [
                  "path_match",
                  "action_classification",
                  "risk_calculation",
                  "audit_logging",
                  "architectural_validation",
                  "pre_execution_validation",
                  "pattern_validation",
                  "behavioral_verification",
                  "precedence_rule",
                  "layer_boundary_check"
                ]
              }
            }
          }
        }
      }
    }
  },
  "approval_types": {
    "description": "Canonical approval types referenced in principles",
    "types": {
      "autonomous_with_audit": {
        "description": "Operation may execute autonomously, but must be logged for audit"
      },
      "validation_then_autonomous": {
        "description": "Operation requires automated validation, then may execute"
      },
      "human_confirmation_required": {
        "description": "Operation requires explicit human confirmation before execution"
      },
      "human_review_plus_audit": {
        "description": "Operation requires human review and post-execution audit"
      },
      "block_autonomous": {
        "description": "Autonomous execution is blocked, human approval required"
      },
      "block_all_writes": {
        "description": "All writes are blocked, read-only access only"
      }
    }
  },
  "validation_checklist": {
    "structural": [
      "[ ] Document has all required header fields",
      "[ ] type starts with 'constitutional_'",
      "[ ] schema_id is 'constitution.<domain>'",
      "[ ] domain field is one of: authority|boundaries|risk|precedence",
      "[ ] NO status field present"
    ],
    "content": [
      "[ ] principles is a dict (not list)",
      "[ ] Each principle has: statement, rationale, scope, enforcement",
      "[ ] Principle IDs are unique within document",
      "[ ] Enforcement method is from allowed list"
    ]
  },
  "additionalProperties": false
}
