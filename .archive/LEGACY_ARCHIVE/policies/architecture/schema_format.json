{
  "id": "schema_dialect",
  "purpose": "Defines the canonical JSON Schema dialect and style requirements for all CORE schemas",
  "notes": {
    "optimization_review": "All 4 llm_gate rules require semantic understanding of JSON Schema content and structure. Cannot be reduced to simple pattern matching."
  },
  "rules": [
    {
      "id": "schemas.dialect.standard_json_schema",
      "notes": "This rule forbids dialect-specific keywords such as OpenAPI nullable. Standard nullability must be expressed via type unions.",
      "rationale": "CORE requires a single unambiguous schema dialect to ensure deterministic validation and tooling interoperability across Mind, Body, and Will.",
      "enforcement": "error",
      "statement": "All schema files under .intent/**/schemas/ must use standard JSON Schema (no OpenAPI extensions).",
      "check": {
        "engine": "llm_gate",
        "params": {
          "instruction": "Verify adherence to: All schema files under .intent/**/schemas/ must use standard JSON Schema (no OpenAPI extensions)."
        }
      },
      "data": {
        "owner": "governance",
        "review_frequency": "annual"
      }
    },
    {
      "id": "schemas.dialect.forbid_nullable_keyword",
      "rationale": "The nullable keyword is not part of standard JSON Schema and causes inconsistent behavior across validators, which is unacceptable for constitutional SSOT enforcement.",
      "enforcement": "error",
      "statement": "The 'nullable' keyword is forbidden in all schema files; use type unions like [\"string\",\"null\"].",
      "check": {
        "engine": "llm_gate",
        "params": {
          "instruction": "Verify adherence to: The 'nullable' keyword is forbidden in all schema files; use type unions like [\"string\",\"null\"]."
        }
      },
      "data": {
        "owner": "governance",
        "review_frequency": "annual"
      }
    },
    {
      "id": "schemas.style.closed_objects.root",
      "notes": "Recursive closure for nested objects may be elevated later; root closure is mandatory now.",
      "rationale": "Closed-world schemas prevent constitutional drift and eliminate acceptance of unknown fields introduced by typos, agents, or uncontrolled evolution.",
      "enforcement": "error",
      "statement": "All schema objects must set additionalProperties=false at the root schema object.",
      "check": {
        "engine": "llm_gate",
        "params": {
          "instruction": "Verify adherence to: All schema objects must set additionalProperties=false at the root schema object."
        }
      },
      "data": {
        "owner": "governance",
        "review_frequency": "annual"
      }
    },
    {
      "id": "schemas.style.datetime_format",
      "rationale": "Using standard formats improves interoperability and reduces validation ambiguity.",
      "enforcement": "warn",
      "statement": "Schemas should use JSON Schema standard format 'date-time' (not 'datetime').",
      "check": {
        "engine": "llm_gate",
        "params": {
          "instruction": "Verify adherence to: Schemas should use JSON Schema standard format 'date-time' (not 'datetime')."
        }
      },
      "data": {
        "owner": "governance",
        "review_frequency": "annual"
      }
    }
  ],
  "schema_id": "schema.policy",
  "title": "Schema Dialect Standards",
  "version": "1.0.0",
  "additionalProperties": false,
  "owners": {
    "accountable": "Governance Lead"
  },
  "review": {
    "frequency": "12 months"
  },
  "type": "policy"
}
