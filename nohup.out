[19:01:13] INFO     INFO:shared.infrastructure.git_service:GitService
                    initialized for path /opt/dev/CORE
           INFO     INFO:shared.infrastructure.intent.intent_validator:Intent
                    validation completed: 7 documents validated
           INFO     INFO:shared.infrastructure.intent.intent_repository:IntentRe
                    pository indexed 7 policies and 25 rules.
           INFO     INFO:mind.governance.intent_guard:IntentGuard initialized
                    with 25 policy rules for file operation governance.

ğŸš¨ CONFIRM DANGEROUS OPERATION
   This will modify your codebase. Continue? [y/n]: â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Traceback (most recent call last) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ /opt/dev/CORE/src/shared/cli_utils.py:168 in wrapper                         â”‚
â”‚                                                                              â”‚
â”‚   165 â”‚   â”‚   â”‚   â”‚   )                                                      â”‚
â”‚   166 â”‚   â”‚   â”‚                                                              â”‚
â”‚   167 â”‚   â”‚   â”‚   if dangerous and confirmation and write:                   â”‚
â”‚ â± 168 â”‚   â”‚   â”‚   â”‚   if not confirm_action(                                 â”‚
â”‚   169 â”‚   â”‚   â”‚   â”‚   â”‚   "[bold red]ğŸš¨ CONFIRM DANGEROUS OPERATION[/bold re â”‚
â”‚   170 â”‚   â”‚   â”‚   â”‚   â”‚   "   This will modify your codebase. Continue?",    â”‚
â”‚   171 â”‚   â”‚   â”‚   â”‚   â”‚   abort_message="Operation cancelled by user.",      â”‚
â”‚                                                                              â”‚
â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ locals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚             args = ()                                                    â”‚ â”‚
â”‚ â”‚     confirmation = True                                                  â”‚ â”‚
â”‚ â”‚     core_context = CoreContext(                                          â”‚ â”‚
â”‚ â”‚                    â”‚                                                     â”‚ â”‚
â”‚ â”‚                    registry=<body.services.service_registry.ServiceRegiâ€¦ â”‚ â”‚
â”‚ â”‚                    object at 0x761ab021bbc0>,                            â”‚ â”‚
â”‚ â”‚                    â”‚                                                     â”‚ â”‚
â”‚ â”‚                    git_service=<shared.infrastructure.git_service.GitSeâ€¦ â”‚ â”‚
â”‚ â”‚                    object at 0x761ab0133ec0>,                            â”‚ â”‚
â”‚ â”‚                    â”‚   cognitive_service=None,                           â”‚ â”‚
â”‚ â”‚                    â”‚                                                     â”‚ â”‚
â”‚ â”‚                    knowledge_service=<shared.infrastructure.knowledge.kâ€¦ â”‚ â”‚
â”‚ â”‚                    object at 0x761ab0381ca0>,                            â”‚ â”‚
â”‚ â”‚                    â”‚   auditor_context=None,                             â”‚ â”‚
â”‚ â”‚                    â”‚                                                     â”‚ â”‚
â”‚ â”‚                    file_handler=<shared.infrastructure.storage.file_hanâ€¦ â”‚ â”‚
â”‚ â”‚                    object at 0x761ab0bec920>,                            â”‚ â”‚
â”‚ â”‚                    â”‚   planner_config=PlannerConfig(                     â”‚ â”‚
â”‚ â”‚                    â”‚   â”‚   task_timeout=300,                             â”‚ â”‚
â”‚ â”‚                    â”‚   â”‚   rollback_on_failure=True,                     â”‚ â”‚
â”‚ â”‚                    â”‚   â”‚   auto_commit=True                              â”‚ â”‚
â”‚ â”‚                    â”‚   ),                                                â”‚ â”‚
â”‚ â”‚                    â”‚   qdrant_service=None,                              â”‚ â”‚
â”‚ â”‚                    â”‚   file_content_cache={},                            â”‚ â”‚
â”‚ â”‚                    â”‚   _is_test_mode=False                               â”‚ â”‚
â”‚ â”‚                    )                                                     â”‚ â”‚
â”‚ â”‚              ctx = <click.core.Context object at 0x761ab02d80e0>         â”‚ â”‚
â”‚ â”‚        dangerous = True                                                  â”‚ â”‚
â”‚ â”‚           kwargs = {                                                     â”‚ â”‚
â”‚ â”‚                    â”‚   'ctx': <click.core.Context object at              â”‚ â”‚
â”‚ â”‚                    0x761ab02d80e0>,                                      â”‚ â”‚
â”‚ â”‚                    â”‚   'pattern': 'src/**/*.py',                         â”‚ â”‚
â”‚ â”‚                    â”‚   'limit': 50,                                      â”‚ â”‚
â”‚ â”‚                    â”‚   'write': True                                     â”‚ â”‚
â”‚ â”‚                    }                                                     â”‚ â”‚
â”‚ â”‚ requires_context = True                                                  â”‚ â”‚
â”‚ â”‚            write = True                                                  â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â”‚                                                                              â”‚
â”‚ /opt/dev/CORE/src/shared/cli_utils.py:113 in confirm_action                  â”‚
â”‚                                                                              â”‚
â”‚   110 def confirm_action(message: str, *, abort_message: str = "Aborted.") - â”‚
â”‚   111 â”‚   """Unified confirmation prompt for dangerous operations."""        â”‚
â”‚   112 â”‚   console.print()                                                    â”‚
â”‚ â± 113 â”‚   confirmed = Confirm.ask(message)                                   â”‚
â”‚   114 â”‚   if not confirmed:                                                  â”‚
â”‚   115 â”‚   â”‚   console.print(f"[yellow]{abort_message}[/yellow]")             â”‚
â”‚   116 â”‚   console.print()                                                    â”‚
â”‚                                                                              â”‚
â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ locals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚ abort_message = 'Operation cancelled by user.'                           â”‚ â”‚
â”‚ â”‚       message = '[bold red]ğŸš¨ CONFIRM DANGEROUS OPERATION[/bold red]\n â€¦ â”‚ â”‚
â”‚ â”‚                 This will modify your code'+15                           â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â”‚                                                                              â”‚
â”‚ /opt/dev/CORE/.venv/lib/python3.12/site-packages/rich/prompt.py:149 in ask   â”‚
â”‚                                                                              â”‚
â”‚   146 â”‚   â”‚   â”‚   show_default=show_default,                                 â”‚
â”‚   147 â”‚   â”‚   â”‚   show_choices=show_choices,                                 â”‚
â”‚   148 â”‚   â”‚   )                                                              â”‚
â”‚ â± 149 â”‚   â”‚   return _prompt(default=default, stream=stream)                 â”‚
â”‚   150 â”‚                                                                      â”‚
â”‚   151 â”‚   def render_default(self, default: DefaultType) -> Text:            â”‚
â”‚   152 â”‚   â”‚   """Turn the supplied default in to a Text instance.            â”‚
â”‚                                                                              â”‚
â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ locals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚        _prompt = <rich.prompt.Confirm object at 0x761ab01ba900>          â”‚ â”‚
â”‚ â”‚ case_sensitive = True                                                    â”‚ â”‚
â”‚ â”‚        choices = None                                                    â”‚ â”‚
â”‚ â”‚        console = None                                                    â”‚ â”‚
â”‚ â”‚        default = Ellipsis                                                â”‚ â”‚
â”‚ â”‚       password = False                                                   â”‚ â”‚
â”‚ â”‚         prompt = '[bold red]ğŸš¨ CONFIRM DANGEROUS OPERATION[/bold red]\nâ€¦ â”‚ â”‚
â”‚ â”‚                  This will modify your code'+15                          â”‚ â”‚
â”‚ â”‚   show_choices = True                                                    â”‚ â”‚
â”‚ â”‚   show_default = True                                                    â”‚ â”‚
â”‚ â”‚         stream = None                                                    â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â”‚                                                                              â”‚
â”‚ /opt/dev/CORE/.venv/lib/python3.12/site-packages/rich/prompt.py:292 in       â”‚
â”‚ __call__                                                                     â”‚
â”‚                                                                              â”‚
â”‚   289 â”‚   â”‚   while True:                                                    â”‚
â”‚   290 â”‚   â”‚   â”‚   self.pre_prompt()                                          â”‚
â”‚   291 â”‚   â”‚   â”‚   prompt = self.make_prompt(default)                         â”‚
â”‚ â± 292 â”‚   â”‚   â”‚   value = self.get_input(self.console, prompt, self.password â”‚
â”‚   293 â”‚   â”‚   â”‚   if value == "" and default != ...:                         â”‚
â”‚   294 â”‚   â”‚   â”‚   â”‚   return default                                         â”‚
â”‚   295 â”‚   â”‚   â”‚   try:                                                       â”‚
â”‚                                                                              â”‚
â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ locals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚ default = Ellipsis                                                       â”‚ â”‚
â”‚ â”‚  prompt = <text 'ğŸš¨ CONFIRM DANGEROUS OPERATION\n   This will modify     â”‚ â”‚
â”‚ â”‚           your codebase. Continue? [y/n]: ' [Span(0, 29, 'bold red'),    â”‚ â”‚
â”‚ â”‚           Span(75, 80, 'prompt.choices')] 'prompt'>                      â”‚ â”‚
â”‚ â”‚    self = <rich.prompt.Confirm object at 0x761ab01ba900>                 â”‚ â”‚
â”‚ â”‚  stream = None                                                           â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â”‚                                                                              â”‚
â”‚ /opt/dev/CORE/.venv/lib/python3.12/site-packages/rich/prompt.py:211 in       â”‚
â”‚ get_input                                                                    â”‚
â”‚                                                                              â”‚
â”‚   208 â”‚   â”‚   Returns:                                                       â”‚
â”‚   209 â”‚   â”‚   â”‚   str: String from user.                                     â”‚
â”‚   210 â”‚   â”‚   """                                                            â”‚
â”‚ â± 211 â”‚   â”‚   return console.input(prompt, password=password, stream=stream) â”‚
â”‚   212 â”‚                                                                      â”‚
â”‚   213 â”‚   def check_choice(self, value: str) -> bool:                        â”‚
â”‚   214 â”‚   â”‚   """Check value is in the list of valid choices.                â”‚
â”‚                                                                              â”‚
â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ locals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚  console = <console width=80 None>                                       â”‚ â”‚
â”‚ â”‚ password = False                                                         â”‚ â”‚
â”‚ â”‚   prompt = <text 'ğŸš¨ CONFIRM DANGEROUS OPERATION\n   This will modify    â”‚ â”‚
â”‚ â”‚            your codebase. Continue? [y/n]: ' [Span(0, 29, 'bold red'),   â”‚ â”‚
â”‚ â”‚            Span(75, 80, 'prompt.choices')] 'prompt'>                     â”‚ â”‚
â”‚ â”‚   stream = None                                                          â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â”‚                                                                              â”‚
â”‚ /opt/dev/CORE/.venv/lib/python3.12/site-packages/rich/console.py:2151 in     â”‚
â”‚ input                                                                        â”‚
â”‚                                                                              â”‚
â”‚   2148 â”‚   â”‚   â”‚   if stream:                                                â”‚
â”‚   2149 â”‚   â”‚   â”‚   â”‚   result = stream.readline()                            â”‚
â”‚   2150 â”‚   â”‚   â”‚   else:                                                     â”‚
â”‚ â± 2151 â”‚   â”‚   â”‚   â”‚   result = input()                                      â”‚
â”‚   2152 â”‚   â”‚   return result                                                 â”‚
â”‚   2153 â”‚                                                                     â”‚
â”‚   2154 â”‚   def export_text(self, *, clear: bool = True, styles: bool = False â”‚
â”‚                                                                              â”‚
â”‚ â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ locals â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•® â”‚
â”‚ â”‚    emoji = True                                                          â”‚ â”‚
â”‚ â”‚   markup = True                                                          â”‚ â”‚
â”‚ â”‚ password = False                                                         â”‚ â”‚
â”‚ â”‚   prompt = <text 'ğŸš¨ CONFIRM DANGEROUS OPERATION\n   This will modify    â”‚ â”‚
â”‚ â”‚            your codebase. Continue? [y/n]: ' [Span(0, 29, 'bold red'),   â”‚ â”‚
â”‚ â”‚            Span(75, 80, 'prompt.choices')] 'prompt'>                     â”‚ â”‚
â”‚ â”‚     self = <console width=80 None>                                       â”‚ â”‚
â”‚ â”‚   stream = None                                                          â”‚ â”‚
â”‚ â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯ â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
OSError: [Errno 9] Bad file descriptor
